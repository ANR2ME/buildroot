From 7d59cd12db55ea8cf68ad2143e5d3ab1b455a480 Mon Sep 17 00:00:00 2001
From: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
Date: Thu, 7 Jul 2011 10:29:42 +0200
Subject: [PATCH 13/13] getinge-netcomv3: add ADC device registration

Signed-off-by: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
---
 arch/arm/mach-at91/board-getinge-netcomv3.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-at91/board-getinge-netcomv3.c b/arch/arm/mach-at91/board-getinge-netcomv3.c
index c056d8f..79ff426 100644
--- a/arch/arm/mach-at91/board-getinge-netcomv3.c
+++ b/arch/arm/mach-at91/board-getinge-netcomv3.c
@@ -237,6 +237,13 @@ static struct gpio_keys_button netcom_buttons[] = {
 	},
 };
 
+/*
+ * ADC
+ */
+static struct at91_g45adc_data g45adc_data = {
+	.adc_clock		= 300000,
+};
+
 static struct gpio_keys_platform_data netcom_button_data = {
 	.buttons	= netcom_buttons,
 	.nbuttons	= ARRAY_SIZE(netcom_buttons),
@@ -290,6 +297,8 @@ static void __init netcom_board_init(void)
 	netcom_add_device_nand();
 	/* LEDs */
 	at91_gpio_leds(netcom_leds, ARRAY_SIZE(netcom_leds));
+	/* ADC */
+	at91_add_device_g45adc(&g45adc_data);
 	/* Button */
 	netcom_add_device_buttons();
 	/* GPIOs */
-- 
1.7.4.1

